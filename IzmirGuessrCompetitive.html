<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<meta name="description" content="IzmirGuessr is a game where you try to find where you are based on a random location in Google Maps." />
		<meta name="robots" content="index, follow" />
		<meta name="author" content="Victiniiiii" />
		<meta property="og:title" content="IzmirGuessr Competitive" />
		<meta property="og:description" content="IzmirGuessr is a game where you explore Izmir and break high scores!" />
		<meta property="og:image" content="https://victiniiiii.github.io/static/imageswebp/izmirguessrlogo.webp" />
		<meta property="og:url" content="https://victiniiiii.github.io/IzmirGuessrCompetitive" />
		<meta property="og:type" content="website" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="IzmirGuessr Competitive" />
		<meta name="twitter:description" content="IzmirGuessr is a game where you explore Izmir and break high scores!" />
		<meta name="twitter:image" content="https://victiniiiii.github.io/static/imageswebp/izmirguessrlogo.webp" />
		<meta name="twitter:url" content="https://victiniiiii.github.io/IzmirGuessrCompetitive" />
		<title>IzmirGuessr Competitive</title>
		<link rel="icon" href="static/images/vic32.png" type="image/png" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
		<link rel="stylesheet" type="text/css" href="static/IzmirGuessrPWAStyles.css" />
		<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvjbX7ao3UbTO56SwG9IJ_KAXOtM5Guo4"></script>
		<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	</head>
	<body>
		<header id="title-section">
			<a href="/">
				<picture>
					<source srcset="/static/imageswebp/vicinti3.webp" type="image/webp" />
					<img class="main-menu-button" src="/static/images/vicinti3.png" />
				</picture>
			</a>
			<h1 class="main-menu-text">IzmirGuessr Competitive</h1>
			<div id="expandButton">
				<div class="buttonInsideButton" id="usernameHere">Logging in...</div>
				<div class="buttonInsideButton" id="secondButton">Login with Google</div>
				<div class="buttonInsideButton" id="thirdButton">Change Nickname</div>
				<div class="buttonInsideButton"><a href="/contactme">Contact Me</a></div>
			</div>
		</header>

		<div id="startpage">
			<div id="startpagelefthalf">
				<div id="map2"></div>
				<div id="mainMapInfo">
					<button class="addremovebuttons" onclick="addAllDistricts()">Add All</button>
					<button class="addremovebuttons" onclick="removeAllDistricts()">Remove All</button>
					<p id="ilcesayisi">Current District Count: 30</p>
				</div>
			</div>
			<div id="startpagerighthalf">
				<div class="blur">
					<div id="izmirilcebox">
						<button onclick="toggleDistrict('Aliağa')">Aliağa</button>
						<button onclick="toggleDistrict('Balçova')">Balçova</button>
						<button onclick="toggleDistrict('Bayındır')">Bayındır</button>
						<button onclick="toggleDistrict('Bayraklı')">Bayraklı</button>
						<button onclick="toggleDistrict('Bergama')">Bergama</button>
						<button onclick="toggleDistrict('Beydağ')">Beydağ</button>
						<button onclick="toggleDistrict('Bornova')">Bornova</button>
						<button onclick="toggleDistrict('Buca')">Buca</button>
						<button onclick="toggleDistrict('Çeşme')">Çeşme</button>
						<button onclick="toggleDistrict('Çiğli')">Çiğli</button>
						<button onclick="toggleDistrict('Dikili')">Dikili</button>
						<button onclick="toggleDistrict('Foça')">Foça</button>
						<button onclick="toggleDistrict('Gaziemir')">Gaziemir</button>
						<button onclick="toggleDistrict('Güzelbahçe')">Güzelbahçe</button>
						<button onclick="toggleDistrict('Karabağlar')">Karabağlar</button>
						<button onclick="toggleDistrict('Karaburun')">Karaburun</button>
						<button onclick="toggleDistrict('Karşıyaka')">Karşıyaka</button>
						<button onclick="toggleDistrict('Kemalpaşa')">Kemalpaşa</button>
						<button onclick="toggleDistrict('Kınık')">Kınık</button>
						<button onclick="toggleDistrict('Kiraz')">Kiraz</button>
						<button onclick="toggleDistrict('Konak')">Konak</button>
						<button onclick="toggleDistrict('Menderes')">Menderes</button>
						<button onclick="toggleDistrict('Menemen')">Menemen</button>
						<button onclick="toggleDistrict('Narlıdere')">Narlıdere</button>
						<button onclick="toggleDistrict('Ödemiş')">Ödemiş</button>
						<button onclick="toggleDistrict('Seferihisar')">Seferihisar</button>
						<button onclick="toggleDistrict('Selçuk')">Selçuk</button>
						<button onclick="toggleDistrict('Tire')">Tire</button>
						<button onclick="toggleDistrict('Torbalı')">Torbalı</button>
						<button onclick="toggleDistrict('Urla')">Urla</button>
					</div>
					<p id="menuTip"></p>
					<div id="menuarabox">
						<div id="miniLeaderboard">
							<h1>Leaderboard</h1>
						</div>
						<div id="yourStats">
							<h1>Your Stats</h1>
							<p id="statsPlayedRounds">Played Rounds: 0</p>
							<p id="statsPercentages">Success Percentage: 0.00%</p>
							<p id="statsHighScore">Best High Score: 0</p>
						</div>
					</div>
					<div id="mainmenuCompetitiveChecksAndButtons">
						<div id="competitiveChecks">
							<div class="flexrow">
								<label for="roundLimitSelector">Set Round Limit:</label>
								<select id="roundLimitSelector" onchange="saveRoundLimit()">
									<option value="3">3</option>
									<option value="5">5</option>
									<option value="10">10</option>
								</select>
							</div>
							<div class="flexrow">
								<label for="gameModeSelector">Select Game Mode:</label>
								<select id="gameModeSelector" onchange="">
									<option value="Classic">Classic</option>
									<option value="CityCenter">Coming Soon...</option>
									<option value="AVM">Coming Soon...</option>
									<option value="MetroTrain">Coming Soon...</option>
									<option value="Landmarks">Coming Soon...</option>
									<option value="Coastal">Coming Soon...</option>
									<option value="Universities">Coming Soon...</option>
									<option value="Industry">Coming Soon...</option>
									<option value="MainRoads">Coming Soon...</option>
								</select>
							</div>
						</div>
						<div id="menubuttons">
							<button id="achievements" onclick="openmodal('achievementsmenu')">Achievements</button>
							<button id="matchHistory" onclick="openmodal('matchHistoryMenu')">Match History</button>
							<button id="leaderboards" onclick="openmodal('leaderboardMenu')">Leaderboards</button>
							<button id="stats" onclick="openmodal('statsMenu')">Statistics</button>
							<button onclick="openmodal('faqMenu')">How to Play</button>
							<button onclick="startGame()">Start Game</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div id="gameplayBackground">
			<div id="backgroundText"></div>
			<div id="minimapOpenButton" onclick="minimapOpenButton()">
				<svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="none" width="30" height="30" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" x-bind:stroke-width="stroke" stroke="currentColor">
					<path d="M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"></path>
					<path d="M9 4v13"></path>
					<path d="M15 7v5.5"></path>
					<path d="M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"></path>
					<path d="M19 18v.01"></path>
				</svg>
			</div>
			<div id="gamemap"></div>
			<div id="overlay-container">
				<div id="mini-map"></div>
				<div id="minimapButtons">
					<div id="action-button">Confirm & Calculate</div>
					<div id="minimapCloseButton" onclick="minimapCloseButton()">Close</div>
				</div>
			</div>
			<div id="result-modal">
				<div id="resultModalTop">
					<div id="resultModalLeft"></div>
					<div id="result-map"></div>
					<div id="resultModalRight"></div>
				</div>
				<div id="resultModalBottom">
					<div class="flexrow">
						<p id="distance-info"></p>
						<p id="points-info"></p>
						<p id="totalPoints"></p>
					</div>
					<div class="flexrow">
						<button id="returntomenu-button" onclick="returnToMainMenu()">Return to Main Menu</button>
						<button id="shareMatch" onclick="copyMatchSharingCode()">Copy Match Code</button>
						<button id="startGameButton" onclick="startGame()">Next Game</button>
					</div>
				</div>
			</div>
			<div id="buttonrow">
				<div id="closeandreturn">
					<div title="Return to Main Menu" id="izmirclose" onclick="returnToMainMenu()"></div>
					<div id="alarmicon"></div>
					<div id="timer">Remaining: 30 Seconds</div>
				</div>
				<div id="buttonRowOtherStuff">
					<div id="selectGameMode"></div>
					<div id="roundCount"></div>
					<div title="Toggle the Results" id="modaltoggle-button" onclick="toggleModal()">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" width="40" height="40" stroke-width="2">
							<path d="M12 13v-8l-3 3m6 0l-3 -3"></path>
							<path d="M9 17l1 0"></path>
							<path d="M14 17l1 0"></path>
							<path d="M19 17l1 0"></path>
							<path d="M4 17l1 0"></path>
						</svg>
					</div>
				</div>
			</div>
		</div>

		<div class="menumodal" id="faqMenu">
			<div class="modalTitleRow">
				<div class="modalTitle">How to play this game ?</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<div class="modalContent flexcolumn">
				<!-- Bu kısmı basınca aşağı expandlanan div'ler ile yap -->
				<button>What is this game?</button>
				<p>When you start up the game you will spawn in a random street in Izmir, if you have selected districts the playzone will be restricted to those districts, and you have to guess where you are based on your surroundings. You need to mark your guess in the small map in the bottom right, and you will get points depending on how close your guess is to the original destination. Have fun !</p>

				<button>What are the differences from the original IzmirGuessr?</button>
				<p>The differences from the original game are:</p>
				<p>- New design and backend maps</p>
				<p>- Dark mode</p>
				<p>- Harder difficulties</p>
				<p>- Cleaner code</p>
				<p>- Toggleable minimap</p>
				<p>- More precise coordinates</p>
				<p>- Ability to check coordinates after game</p>
				<p>- User system</p>
				<p>- Quicker matchmaking</p>
				<p>- Match history</p>
				<p>- Sharing played games</p>
				<p>- Achievements ( TODO )</p>
				<p>- New game modes ( TODO )</p>

				<button>Why should i login?</button>
				<p>You can login with your google without using a password to save your statistics, get on the leaderboard and check your match history between multiple devices for free.</p>

				<button>What are the plans for the future of the game?</button>
				<p>These are the current plans:</p>
				<p>- Sorting in statistics tab</p>
				<p>- Finish all the modals</p>
				<p>- 2 Language support ( TR - ENG )</p>
				<p>- A new map in the main menu with your previous guessed coordinates colored based on scores to show which locations you are better at</p>
				<p>- A map in leaderboard to show district winners ( and 2. and 3. rankers )</p>

				<button>How are the scores calculated?</button>
				<p>This is the function i use to calculate scores: -1.35166e-9 * Math.pow(distance, 3) + 0.0000310415 * Math.pow(distance, 2) - 0.278563 * distance + 1033.48</p>
				<p>This is a special curved function i made to give the player more points when close to target, but still give some points when it's not that close.</p>

				<button>What are some hidden features in the game?</button>
				<p>Current hidden features are:</p>
				<p>- Right click in main menu to toggle all districts</p>
				<p>- Playing Every District game mode grants extra score if you guess the correct district</p>
			</div>
		</div>
		<div class="menumodal" id="statsMenu">
			<div class="modalTitleRow">
				<div class="modalTitle">Statistics</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<p>Disclaimer: Data of the games played in Every District and Custom settings are counted for both those and the original district.</p>
			<div class="modalContent">
				<div class="modalLeft">
					<p id="statisticsMenuText"></p>
				</div>
				<div class="modalRight">
					<button onclick="logStatistics()">Click here to get your statistics.</button>
				</div>
			</div>
		</div>
		<div class="menumodal" id="achievementsmenu">
			<div class="modalTitleRow">
				<div class="modalTitle">Achievements</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<div class="modalContent flexcolumn">
				<p>Warning: Not ready yet...</p>
				<p>Bronze - Silver - Gold - Diamond</p>
				<p>Play a game in 1 - 5 - 15 - 30 districts.</p>
				<p>Earn 5000 score in 1 - 5 - 15 - 30 districts.</p>
				<p>Earn MAX points in 1 - 5 - 15 - 30 districts.</p>
				<p>Guess a location with +750 points under 10 seconds.</p>
				<p>Guess a location with MAX points under 5 seconds.</p>
				<p>Guess a location under 10 meters.</p>
				<p>Play a total of 50 - 250 - 1000 - 5000 rounds.</p>
			</div>
		</div>
		<div class="menumodal" id="matchHistoryMenu">
			<div class="modalTitleRow">
				<div class="modalTitle">Match History</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<div class="modalContent">
				<div class="modalLeft">
					<div id="modalMatchHistory"></div>
				</div>
				<div class="modalRight">
					<button onclick="loadMatchHistory()">Load Match History</button>
				</div>
			</div>
		</div>
		<div class="menumodal" id="leaderboardMenu">
			<div class="modalTitleRow">
				<div class="modalTitle">Leaderboard</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<p>Disclaimer: You need at least 2500 points to qualify for the leaderboard.</p>
			<div class="modalContent">
				<div class="modalLeft">
					<div id="modalHighScores"></div>
				</div>
				<div class="modalRight">
					<select name="izmirDistricts" id="izmirDistrictSelect" onchange="this.size=1" onfocus="this.size=5" onblur="this.size=1">
						<option value="" disabled selected>Select a district...</option>
						<option value="Every District">Every District</option>
						<option value="Custom">Custom</option>
						<option value="Aliağa">Aliağa</option>
						<option value="Balçova">Balçova</option>
						<option value="Bayındır">Bayındır</option>
						<option value="Bayraklı">Bayraklı</option>
						<option value="Bergama">Bergama</option>
						<option value="Beydağ">Beydağ</option>
						<option value="Bornova">Bornova</option>
						<option value="Buca">Buca</option>
						<option value="Çeşme">Çeşme</option>
						<option value="Çiğli">Çiğli</option>
						<option value="Dikili">Dikili</option>
						<option value="Foça">Foça</option>
						<option value="Gaziemir">Gaziemir</option>
						<option value="Güzelbahçe">Güzelbahçe</option>
						<option value="Karabağlar">Karabağlar</option>
						<option value="Karaburun">Karaburun</option>
						<option value="Karşıyaka">Karşıyaka</option>
						<option value="Kemalpaşa">Kemalpaşa</option>
						<option value="Kınık">Kınık</option>
						<option value="Kiraz">Kiraz</option>
						<option value="Konak">Konak</option>
						<option value="Menderes">Menderes</option>
						<option value="Menemen">Menemen</option>
						<option value="Narlıdere">Narlıdere</option>
						<option value="Ödemiş">Ödemiş</option>
						<option value="Seferihisar">Seferihisar</option>
						<option value="Selçuk">Selçuk</option>
						<option value="Tire">Tire</option>
						<option value="Torbalı">Torbalı</option>
						<option value="Urla">Urla</option>
					</select>
					<button onclick="leaderboardModal()">Show</button>
				</div>
			</div>
		</div>
		<div class="menumodal" id="changeUsernameModal">
			<div class="modalTitleRow">
				<div class="modalTitle">Change Nickname</div>
				<div class="modalCloseButton">&#10006;</div>
			</div>
			<input id="changeUsernameInput" type="text" aria-label="usernameinput" />
			<button onclick="changeNickname()">Change</button>
		</div>
		<div id="loadingScreen">Loading...</div>

		<script src="badwords.js"></script>
		<script type="module" src="IzmirGuessrFirebase.js"></script>
		<script src="IzmirGuessrMapOptions.js"></script>
		<script src="IzmirGuessrCoordinates.js"></script>
		<script src="IzmirGuessrCompetitive.js"></script>
	</body>
</html>
