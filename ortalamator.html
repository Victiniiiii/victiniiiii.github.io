<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta property="og:title" content="Ortalamatör" />
		<meta property="og:description" content="Ortalama hesaplamanın daha kolay bir yolu olmamıştı..." />
		<meta property="og:image" content="https://victiniiiii.github.io/static/images/ortalamator512.png" />
		<meta property="og:url" content="https://victiniiiii.github.io/ortalamator" />
		<meta property="og:type" content="website" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="Ortalamatör" />
		<meta name="twitter:description" content="Ortalama hesaplamanın daha kolay bir yolu olmamıştı..." />
		<meta name="twitter:image" content="https://victiniiiii.github.io/static/images/ortalamator512.png" />
		<meta name="twitter:url" content="https://victiniiiii.github.io/ortalamator" />
		<title>Ortalamatör</title>
		<link rel="icon" href="static/images/vic32.png" type="image/png" />
		<link rel="stylesheet" type="text/css" href="static/ortalamatorPWAstyles.css" />
		<link rel="manifest" href="/ortalamatormanifest.json" />
	</head>
	<body>
		<header id="title-section">
			<a href="/">
				<picture>
					<source srcset="/static/imageswebp/vicinti3.webp" type="image/webp" />
					<img class="main-menu-button" src="/static/images/vicinti3.png" />
				</picture>
			</a>
			<h1 class="main-menu-text">Ortalamatör</h1>
			<div class="project-buttons">
				<div class="category-button">
					<div id="download-btn">Download App</div>
				</div>
				<div class="category-button">
					<a href="/contactme">Contact Me</a>
				</div>
			</div>
		</header>
		<div id="settingsModal">
			<p>Tüm notları değiştir:</p>
			<p>Notlarını siteden yapıştır:</p>
			<p>(nasıl olacağını gösteren GIF )</p>
		</div>
		<div id="buttonContainer">
			<button class="modeButton" onclick="switchMode('STAT22')">Ortalama</button>
			<button class="modeButton" onclick="switchMode('EXAM')">Harf Notu</button>
			<button class="modeButton" onclick="switchMode('FAQ')">SSS</button>
		</div>
		<div id="rectangle">
			<div class="rightrectangle" id="rightrectangle">
				<div class="rightrectangleButton" id="openSettingsButton" onclick="openSettings()">Ayarlar</div>
				<div class="rightrectangletext">AGNO:&nbsp;<span id="calculatedGPA">0</span></div>
			</div>
			<div class="middleRectangle" id="nodonemMode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Başlamak için yukarıdan bir dönem seçiniz.</div>
			<div class="middleRectangle" id="donem1Mode"></div>
			<div class="middleRectangle" id="donem2Mode"></div>
			<div class="middleRectangle" id="donem3Mode"></div>
			<div class="middleRectangle" id="donem4Mode"></div>
			<div class="middleRectangle" id="donem5Mode"></div>
			<div class="middleRectangle" id="donem6Mode"></div>
			<div class="middleRectangle" id="donem7Mode"></div>
			<div class="middleRectangle" id="donem8Mode"></div>
			<div id="examMode">
				<div id="result">
					Vize notu giriniz:
					<div class="vizeveodevinput">
						<input type="number" id="noteInput1" class="noteInput" placeholder="Vize Notu" />
						<input type="number" id="secondnoteInput1" class="noteInput" placeholder="Ödev Notu" />
					</div>
					<div class="vizebutonlar">
						<div class="custom-dropdown">
							<button id="settingsbutton" class="modeButton">Ayarlar</button>
							<div class="custom-dropdown-content">
								<div class="custom-submenu">
									<a href="#">Vize: <span id="vizeValue">%40</span></a>
									<div class="custom-submenu-content" data-target="vize">
										<a href="#">%0</a>
										<a href="#">%5</a>
										<a href="#">%10</a>
										<a href="#">%15</a>
										<a href="#">%20</a>
										<a href="#">%25</a>
										<a href="#">%30</a>
										<a href="#">%35</a>
										<a href="#">%40</a>
										<a href="#">%45</a>
										<a href="#">%50</a>
									</div>
								</div>
								<div class="custom-submenu">
									<a href="#">Ödev: <span id="odevValue">%0</span></a>
									<div class="custom-submenu-content" data-target="odev">
										<a href="#">%0</a>
										<a href="#">%5</a>
										<a href="#">%10</a>
										<a href="#">%15</a>
										<a href="#">%20</a>
										<a href="#">%25</a>
										<a href="#">%30</a>
									</div>
								</div>
								<div class="custom-submenu">
									<a href="#">Final: <span id="finalValue">%60</span></a>
									<div class="custom-submenu-content" data-target="final">
										<a href="#">%30</a>
										<a href="#">%35</a>
										<a href="#">%40</a>
										<a href="#">%45</a>
										<a href="#">%50</a>
										<a href="#">%55</a>
										<a href="#">%60</a>
									</div>
								</div>
							</div>
						</div>
						<button id="calculateButton" class="modeButton" onclick="calculateFinalNote()">Hesapla</button>
					</div>
				</div>
			</div>
			<div id="examResultsMode">
				<div id="result">
					Vize notu giriniz:
					<div class="vizeveodevinput">
						<input type="number" id="noteInput2" class="noteInput" placeholder="Vize Notu" />
						<input type="number" id="secondnoteInput2" class="noteInput" placeholder="Ödev Notu" />
					</div>
					<div class="vizebutonlar">
						<div class="modeButton">
							<button id="settingsbutton" class="modeButton">Ayarlar</button>
							<div class="custom-dropdown-content">
								<div class="custom-submenu">
									<a href="#">Vize: <span id="vizeValue">%40</span></a>
									<div class="custom-submenu-content" data-target="vize">
										<a href="#">%0</a>
										<a href="#">%5</a>
										<a href="#">%10</a>
										<a href="#">%15</a>
										<a href="#">%20</a>
										<a href="#">%25</a>
										<a href="#">%30</a>
										<a href="#">%35</a>
										<a href="#">%40</a>
										<a href="#">%45</a>
										<a href="#">%50</a>
										<a href="#">%55</a>
										<a href="#">%60</a>
										<a href="#">%65</a>
										<a href="#">%70</a>
									</div>
								</div>
								<div class="custom-submenu">
									<a href="#">Ödev: <span id="odevValue">%0</span></a>
									<div class="custom-submenu-content" data-target="odev">
										<a href="#">%0</a>
										<a href="#">%5</a>
										<a href="#">%10</a>
										<a href="#">%15</a>
										<a href="#">%20</a>
										<a href="#">%25</a>
										<a href="#">%30</a>
										<a href="#">%35</a>
										<a href="#">%40</a>
										<a href="#">%45</a>
										<a href="#">%50</a>
										<a href="#">%55</a>
										<a href="#">%60</a>
										<a href="#">%65</a>
										<a href="#">%70</a>
									</div>
								</div>
								<div class="custom-submenu">
									<a href="#">Final: <span id="finalValue">%60</span></a>
									<div class="custom-submenu-content" data-target="final">
										<a href="#">%30</a>
										<a href="#">%35</a>
										<a href="#">%40</a>
										<a href="#">%45</a>
										<a href="#">%50</a>
										<a href="#">%55</a>
										<a href="#">%60</a>
									</div>
								</div>
							</div>
						</div>
						<button id="calculateButton" class="modeButton" onclick="calculateFinalNote()">Hesapla</button>
					</div>
				</div>
				<div id="examResultsText">Lütfen geçerli bir vize notu giriniz.</div>
			</div>
			<div id="faqMode">
				<h2>Sıkça Sorulan Sorular</h2>

				<h3>AGNO nedir?</h3>
				<p>Ağırlıklı genel not ortalaması.</p>

				<h3>Harf notları nasıl işler?</h3>
				<p>Not aralıkları şu şekildedir:</p>
				<ul>
					<li>88-100: AA, &nbsp;&nbsp; 81-87: BA, &nbsp;&nbsp; 74-80: BB,</li>
					<li>67-73: CB, &nbsp;&nbsp; 60-66: CC, &nbsp;&nbsp; 53-59: DC</li>
					<li>46-52: DD, &nbsp;&nbsp; 0-45: FD, &nbsp;&nbsp; Devamsız: FF</li>
				</ul>
				<h3>Neden DD almam için bile 45 gerekiyor?</h3>
				<p>Ham başarı puanına karşılık gelen ve başarılı kategorisinde değerlendirilen harf notlarını alabilmek için, öğrenciler final sınavından yüz üzerinden en az 45 almalıdır.</p>
			</div>
			<div id="stat22Mode">
				<div class="semesterButtonsContainer">
					<button class="semesterButton" onclick="switchMode('DONEM1')">1. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM2')">2. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM3')">3. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM4')">4. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM5')">5. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM6')">6. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM7')">7. Dönem</button>
					<button class="semesterButton" onclick="switchMode('DONEM8')">8. Dönem</button>
				</div>
			</div>
			<div class="stat22RectanglesContainer3" id="stat22RectanglesContainer3">
				<div class="stat22Rectangle">1. Dönem:&nbsp; <span id="donem1ort"> 0.00</span></div>
				<div class="stat22Rectangle">3. Dönem:&nbsp; <span id="donem3ort"> 0.00</span></div>
				<div class="stat22Rectangle">5. Dönem:&nbsp; <span id="donem5ort"> 0.00</span></div>
				<div class="stat22Rectangle">7. Dönem:&nbsp; <span id="donem7ort"> 0.00</span></div>
			</div>
			<div class="stat22RectanglesContainer" id="stat22RectanglesContainer">
				<div class="stat22Rectangle">2. Dönem:&nbsp; <span id="donem2ort"> 0.00</span></div>
				<div class="stat22Rectangle">4. Dönem:&nbsp; <span id="donem4ort"> 0.00</span></div>
				<div class="stat22Rectangle">6. Dönem:&nbsp; <span id="donem6ort"> 0.00</span></div>
				<div class="stat22Rectangle">8. Dönem:&nbsp; <span id="donem8ort"> 0.00</span></div>
			</div>
			<div class="stat22RectanglesContainer2" id="stat22RectanglesContainer2">
				<div class="stat22Rectangle">1. Sene:&nbsp; <span id="gpaYear1"> 0.00</span></div>
				<div class="stat22Rectangle">2. Sene:&nbsp; <span id="gpaYear2"> 0.00</span></div>
				<div class="stat22Rectangle">3. Sene:&nbsp; <span id="gpaYear3"> 0.00</span></div>
				<div class="stat22Rectangle">4. Sene:&nbsp; <span id="gpaYear4"> 0.00</span></div>
			</div>
		</div>
		<div class="stars"></div>
		<style>
			* {
				box-sizing: border-box;
				font-family: Verdana, sans-serif;
			}

			html,
			body {
				overscroll-behavior: none;
			}

			#settingsModal {
				display: none;
				width: 90vw;
				height: 90svh;
				margin: 9svh 5vw 1svh 5vw;
				background-color: rgb(0, 0, 0, 0.9);
				position: fixed;
				z-index: 1231231321111111111111111111111111111111123213;
			}

			@media (min-width: 768px) {
				@keyframes gradientAnimation {
					0% {
						background-position: 0% 0%;
					}
					50% {
						background-position: 100% 100%;
					}
					100% {
						background-position: 0% 0%;
					}
				}

				body {
					padding: 0;
					display: flex;
					flex-direction: column;
					align-items: center;
					text-align: center;
					margin: 0;
					height: 100vh;
					overflow: hidden;
					background: linear-gradient(45deg, #001f3f, #003366, #001f3f);
					background-size: 400% 400%;
					animation: gradientAnimation 20s ease infinite;
					color: #e0e0e0;
					position: relative;
					z-index: 1;
				}

				a {
					text-decoration: none;
				}

				#title-section {
					background-color: rgb(10, 10, 20, 1);
					display: flex;
					justify-content: space-between;
					align-items: center;
					width: 100%;
					border: 0.2vw solid black;
					margin-bottom: 0.9svh;
				}

				.main-menu-text {
					font-size: min(2dvw, 4svh);
					text-align: center;
					color: white;
					margin: 0;
					text-shadow: 0.1vw 0.2vh #b5b5b5;
					-webkit-backdrop-filter: blur(0.2vw);
					backdrop-filter: blur(0.2vw);
				}

				.project-buttons {
					display: flex;
				}

				.main-menu-button {
					cursor: pointer;
					width: 8svh;
					height: 8svh;
					background-image: url("/static/imageswebp/vicinti3.webp"), url("/static/images/vicinti3.png");
				}

				.category-button {
					background: white;
					border: 0.1vw solid black;

					font-size: min(1dvw, 2svh);
					color: black;
					text-decoration: none;
					padding: 0.3vw 2.5svh;
					cursor: pointer;
					margin: 0.5vw 1svh;
					position: relative;
				}

				#buttonContainer {
					display: flex;
					margin-top: 1.85svh;
					width: 80%;
					justify-content: space-between;
					background-color: rgba(0, 0, 0, 0.4);
					border-radius: 0.4vw;
					-webkit-backdrop-filter: blur(0.15vw);
					backdrop-filter: blur(0.15vw);
					background-color: rgba(255, 255, 255, 0.5);
					box-shadow: 0 0.05vw 0.6vw rgba(0, 0, 0, 0.25);
				}

				.show {
					display: block;
				}

				#rectangle {
					width: 80vw;
					height: 80svh;
					text-align: center;
					padding: 1vw 1svh;
					position: relative;
					color: white;
					border-bottom-left-radius: 1vw;
					border-bottom-right-radius: 1vw;
					-webkit-backdrop-filter: blur(0.1vw);
					backdrop-filter: blur(0.1vw);
					background-color: rgba(255, 255, 255, 0.5);
					box-shadow: 0 0.05vw 0.6vw rgba(0, 0, 0, 0.25);
					border: 0.05vw solid rgba(255, 255, 255, 0.3);
				}

				#rectangle .lessonList li,
				#rectangle ul li {
					list-style-type: none;
					margin-bottom: 1.2svh;
					color: white;
				}

				#rectangle select {
					font-size: 1.1dvw;
				}

				#examMode {
					display: none;
				}

				#examResultsMode {
					display: none;
				}

				#faqMode {
					font-size: 1dvw;
					display: none;
				}

				#stat22Mode {
					display: flex;
					flex-direction: column;
					justify-content: space-between;
					align-items: center;
					position: relative;
				}

				#result {
					display: none;
					font-size: 1.87dvw;
					margin-top: 1.84svh;
					margin-bottom: 0.92svh;
				}

				.noteInput {
					display: none;
					font-size: 1.87dvw;
					width: 60%;
					padding: 1.3vw;
					margin: 0 auto;
					margin-top: 2.77svh;
					margin-bottom: 2.77svh;
					text-align: center;
				}

				.vizebutonlar {
					display: flex;
					flex-direction: row;
					width: 40vw;
					margin-top: 1.85svh;
					margin-left: auto;
					margin-right: auto;
				}

				#calculateButton {
					width: 20vw;
					display: none;
					background-color: rgba(0, 0, 0, 0.4);
				}

				#settingsbutton {
					width: 20vw;
					display: none;
					background-color: rgba(0, 0, 0, 0.4);
				}

				#examResultsText {
					margin-top: 3.7svh;
					font-size: 1.87dvw;
				}

				.modeButton {
					flex: 1;
					height: 1.82vw;
					color: white;
					background-color: transparent;
				}

				.dropdown {
					font-size: 1dvw;
					position: relative;
					display: inline-block;
				}

				.dropdown button {
					font-size: 1dvw;
					padding: 0.52vw 0.92svh;
				}

				.dropdown-content {
					display: none;
					position: absolute;
					font-size: 1dvw;
					box-shadow: 0 0.4vw 0.8vw 0 rgba(0, 0, 0, 0.2);
					z-index: 5;
				}

				.dropdown-content a {
					color: white;
					font-size: 1dvw;
					padding: 0.88vw;
					text-decoration: none;
					display: block;
				}

				.dropdown-content a:hover {
					font-size: 1dvw;
					color: white;
				}

				.dropdown-gpa {
					font-size: 1dvw;
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
				}

				.dropdown-stat22 {
					font-size: 1dvw;
					position: absolute;
					top: 0;
					right: 0;
				}

				.stat22RectanglesContainer {
					position: absolute;
					bottom: 0;
					width: 75vw;
					display: flex;
					justify-content: flex-start;
					padding-bottom: 3.05vw;
					padding-left: 3vw;
				}

				.stat22RectanglesContainer2 {
					position: absolute;
					bottom: 0;
					width: 75vw;
					display: flex;
					justify-content: flex-start;
					padding-bottom: 1vw;
					padding-left: 3vw;
				}

				.stat22RectanglesContainer3 {
					position: absolute;
					bottom: 0;
					width: 75vw;
					display: flex;
					justify-content: flex-start;
					padding-bottom: 4.68vw;
					padding-left: 3vw;
				}

				.stat22Rectangle {
					width: 24%;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 1.3dvw;
					border: 0.05vw solid white;
				}

				.semesterButtonsContainer {
					display: flex;
					flex-wrap: wrap;
					justify-content: space-between;
					align-items: center;
					justify-content: center;
					margin-top: 2.5svh;
				}

				.semesterButton {
					width: 11%;
					height: 8%;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 1.3dvw;
					border: 0.05vw solid white;
					cursor: pointer;
					margin-left: 0.4vw;
					margin-right: 0.4vw;
					background-color: transparent;
					color: white;
				}

				.middleRectangle {
					width: 80%;
					height: 60%;
					position: absolute;
					top: 45%;
					left: 40%;
					transform: translate(-50%, -50%);
					display: flex;
					text-align: left;
					font-size: 1.47dvw;
					margin-left: 1vw;
				}

				.rightrectangle {
					width: 20%;
					height: 60%;
					position: absolute;
					top: 45%;
					right: 40%;
					transform: translate(195%, -50%);
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 2.6dvw;
					margin: auto;
				}

				.rightrectangleButton {
					width: 80%;
					height: 50%;
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 2.08dvw;
					border: 0.05vw solid white;
					cursor: pointer;
					margin: auto;
					color: white;
					background-color: transparent;
				}

				.rightrectangletext {
					width: 80%;
					height: 50%;
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 1.3dvw;
					border: 0.05vw solid white;
					margin: auto;
					color: white;
				}

				.custom-dropdown {
					position: relative;
					display: inline-block;
				}

				.custom-dropdown-content {
					width: 20vw;
					display: none;
					position: absolute;
					background-color: #f9f9f9;
					min-width: 160px;
					box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
					z-index: 1;
				}

				.custom-dropdown-content a {
					color: black;
					padding: 5px 10px;
					font-size: min(3.5vw, 1.75vh);
					text-decoration: none;
					display: block;
				}

				.custom-dropdown-content a:hover {
					background-color: #f1f1f1;
				}

				.custom-dropdown:hover .custom-dropdown-content {
					display: block;
				}

				.custom-submenu {
					position: relative;
				}

				.custom-submenu-content {
					display: none;
					position: absolute;
					font-size: min(3.5vw, 1.75vh);
					left: 100%;
					top: 0;
					background-color: #f9f9f9;
					min-width: 160px;
					box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
					z-index: 1;
				}

				.custom-submenu:hover .custom-submenu-content {
					display: block;
				}

				.vizeveodevinput {
					display: flex;
					flex-direction: row;
				}

				#donem1Mode,
				#donem2Mode,
				#donem3Mode,
				#donem4Mode,
				#donem5Mode,
				#donem6Mode,
				#donem7Mode,
				#donem8Mode {
					display: none;
				}

				.stars {
					position: absolute;
					width: 100%;
					height: 100%;
					top: 0;
					left: 0;
					background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 1px, transparent 1px) repeat;
					background-size: 10px 10px;
					z-index: 0;
					pointer-events: none;
					clip-path: polygon(0 9vh, 100% 9vh, 100% 100%, 0 100%);
				}
			}

			@media (max-width: 767px) {
				@keyframes gradientAnimation {
					0% {
						background-position: 0% 0%;
					}
					50% {
						background-position: 100% 100%;
					}
					100% {
						background-position: 0% 0%;
					}
				}

				body {
					background-repeat: no-repeat;
					background-size: cover;
					background-attachment: fixed;
					background-position: center;
					display: flex;
					margin: 0;
					flex-direction: column;
					align-items: center;
					height: 100%;
					margin: 0;
					height: 100svh;
					overflow: hidden;
					background: linear-gradient(45deg, #001f3f, #003366, #001f3f);
					background-size: 400% 400%;
					animation: gradientAnimation 20s ease infinite;
					color: #e0e0e0;
					position: relative;
					z-index: 1;
				}

				a {
					text-decoration: none;
				}

				#title-section {
					background-color: rgb(10, 10, 20, 1);
					display: flex;
					justify-content: space-between;
					align-items: center;
					width: 100%;
					border: 0.5vw solid black;
					margin-bottom: 0.1svh;
				}

				.main-menu-button {
					cursor: pointer;
					width: 6svh;
					height: 6svh;
				}

				#title-section a div {
					background-image: url("/static/imageswebp/vicinti50.webp"), url("/static/images/vicinti50.png");
					width: 6svh;
					height: 6svh;
					background-size: contain;
				}

				.main-menu-text {
					width: 50vw;
					font-size: min(4vw, 2svh);
					text-align: center;
					margin-left: 1vw;
					margin-right: 1vw;
					color: white;
					margin: 0;
				}

				.project-buttons {
					width: 40vw;
					display: flex;
					align-items: flex-end;
					top: 0;
					right: 0;
				}

				.category-button {
					background: white;
					border: 0.5vw solid black;
					font-size: 2vw;
					color: black;
					padding: 1vw 1svh;
					cursor: pointer;
					margin: 1vw 1svh;
					margin-left: auto;
					position: relative;
				}

				#buttonContainer {
					display: flex;
					margin-top: 1.5svh;
					width: 100%;
					justify-content: space-between;
				}

				.show {
					display: block;
				}

				#rectangle {
					width: 100%;
					height: 75svh;
					text-align: center;
					padding: 2.5vw;
					position: relative;
				}

				#examMode {
					display: none;
				}

				#examResultsMode {
					display: none;
				}

				#faqMode {
					font-size: 4vw;
					display: none;
					color: white;
				}

				#stat22Mode {
					display: flex;
					flex-direction: column;
					justify-content: space-between;
					align-items: center;
					position: relative;
				}

				#result {
					display: none;
					font-size: 9vw;
					margin-top: 2.5svh;
					margin-bottom: 1svh;
					color: white;
				}

				.noteInput {
					display: none;
					font-size: 9vw;
					width: 80%;
					padding: 6vw;
					margin: 0 auto;
					margin-top: 3svh;
					margin-bottom: 3svh;
					text-align: center;
				}

				.vizebutonlar {
					display: flex;
					flex-direction: row;
					width: 80vw;
					margin-top: 1.85svh;
					margin-left: auto;
					margin-right: auto;
				}

				#calculateButton {
					width: 40vw;
					display: none;
					background-color: rgba(0, 0, 0, 0.4);
				}

				#settingsbutton {
					width: 40vw;
					display: none;
					background-color: rgba(0, 0, 0, 0.4);
				}

				#examResultsText {
					margin-top: 4svh;
					font-size: 7vw;
					color: white;
				}

				.modeButton {
					flex: 1;
					height: 9vw;
					background-color: transparent;
					color: white;
				}

				.dropdown {
					font-size: 5vw;
					position: relative;
					display: inline-block;
				}

				.dropdown button {
					font-size: 5vw;
					padding: 2.5vw;
				}

				.dropdown-content {
					display: none;
					position: absolute;
					font-size: 5vw;
					box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
					z-index: 5;
				}

				.dropdown-content a {
					color: white;
					font-size: 5vw;
					padding: 4vw;
					text-decoration: none;
					display: block;
				}

				.dropdown-content a:hover {
					font-size: 5vw;
				}

				.dropdown-gpa {
					font-size: 5vw;
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
				}

				.dropdown-stat22 {
					font-size: 5vw;
					position: absolute;
					top: 0;
					right: 0;
				}

				.stat22RectanglesContainer {
					width: 95vw;
					height: 5svh;
					display: flex;
					justify-content: flex-start;
				}

				.stat22RectanglesContainer2 {
					width: 95vw;
					height: 5svh;
					display: flex;
					justify-content: flex-start;
					margin-top: 2svh;
				}

				.stat22RectanglesContainer3 {
					width: 95vw;
					height: 5svh;
					display: flex;
					justify-content: flex-start;
					margin-top: 50svh;
				}

				.stat22Rectangle {
					width: 100%;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 2.5vw;
					border: 1px solid white;
					color: white;
					-webkit-backdrop-filter: blur(5px);
					backdrop-filter: blur(5px);
				}

				.semesterButtonsContainer {
					display: flex;
					flex-wrap: wrap;
					width: 95vw;
					height: 7svh;
					justify-content: space-between;
					align-items: center;
					margin-top: 1svh;
					background-color: rgba(0, 0, 0, 0.4);
				}

				.semesterButton {
					width: 25%;
					height: 50%;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 3vw;
					border: 1px solid white;
					cursor: pointer;
					color: white;
					background-color: transparent;
				}

				.middleRectangle {
					width: 85%;
					height: 60%;
					position: absolute;
					top: 45%;
					left: 35%;
					transform: translate(-50%, -50%);
					display: flex;
					text-align: left;
					font-size: 2.5vw;
					border: 1px solid #000;
					color: white;
					border-radius: 8px;
					-webkit-backdrop-filter: blur(5px);
					backdrop-filter: blur(5px);
					background-color: rgba(255, 255, 255, 0.5);
					box-shadow: 0 1px 12px rgba(0, 0, 0, 0.25);
					border: 1px solid rgba(255, 255, 255, 0.3);
				}

				#rectangle select {
					font-size: 3.5vw;
				}

				.rightrectangle {
					width: 20%;
					height: 60%;
					background-color: white;
					position: absolute;
					top: 45%;
					right: 40%;
					transform: translate(195%, -50%);
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 5vw;
					margin: auto;
					border: 1px solid #000;
					border-radius: 8px;
					-webkit-backdrop-filter: blur(5px);
					backdrop-filter: blur(5px);
					background-color: rgba(255, 255, 255, 0.5);
					box-shadow: 0 1px 12px rgba(0, 0, 0, 0.25);
					border: 1px solid rgba(255, 255, 255, 0.3);
				}

				.rightrectangleButton {
					width: 100%;
					height: 50%;
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 4vw;
					background-color: transparent;
					color: orange;
					border: 5svh white;
					cursor: pointer;
				}

				.rightrectangletext {
					width: 100%;
					height: 50%;
					display: flex;
					text-align: center;
					align-items: center;
					justify-content: center;
					font-size: 3vw;
					color: white;
				}

				#donem1Mode,
				#donem2Mode,
				#donem3Mode,
				#donem4Mode,
				#donem5Mode,
				#donem6Mode,
				#donem7Mode,
				#donem8Mode {
					display: none;
				}

				#rectangle .lessonList li,
				#rectangle ul li {
					list-style-type: none;
					margin-bottom: 1svh;
				}

				.custom-dropdown {
					position: relative;
					display: inline-block;
				}

				.custom-dropdown-content {
					width: 20vw;
					display: none;
					position: absolute;
					background-color: #f9f9f9;
					min-width: 160px;
					box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
					z-index: 1;
				}

				.custom-dropdown-content a {
					color: black;
					padding: 5px 10px;
					font-size: min(3.5vw, 1.75svh);
					text-decoration: none;
					display: block;
				}

				.custom-dropdown-content a:hover {
					background-color: #f1f1f1;
				}

				.custom-dropdown:hover .custom-dropdown-content {
					display: block;
				}

				.custom-submenu {
					position: relative;
				}

				.custom-submenu-content {
					display: none;
					position: absolute;
					font-size: min(3.5vw, 1.75svh);
					left: 100%;
					top: 0;
					background-color: #f9f9f9;
					min-width: 160px;
					box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
					z-index: 1;
				}

				.custom-submenu:hover .custom-submenu-content {
					display: block;
				}

				.vizeveodevinput {
					display: flex;
					flex-direction: row;
				}

				.stars {
					position: absolute;
					width: 100%;
					height: 100%;
					top: 0;
					left: 0;
					background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 1px, transparent 1px) repeat;
					background-size: 10px 10px;
					z-index: 0;
					pointer-events: none;
					clip-path: polygon(0 7svh, 100% 7svh, 100% 100%, 0 100%);
				}
			}
		</style>
		<script>
			function switchMode(mode) {
				var rightrectangle = document.querySelector(".rightrectangle");
				var middleRectangle = document.querySelector(".middleRectangle");
				var result = document.getElementById("result");
				var noteInput1 = document.getElementById("noteInput1");
				var noteInput2 = document.getElementById("noteInput2");
				var secondnoteInput1 = document.getElementById("secondnoteInput1");
				var secondnoteInput2 = document.getElementById("secondnoteInput2");
				var calculateButton = document.getElementById("calculateButton");
				var settingsbutton = document.getElementById("settingsbutton");
				var examResultsText = document.getElementById("examResultsText");
				var examMode = document.getElementById("examMode");
				var examResultsMode = document.getElementById("examResultsMode");
				var faqMode = document.getElementById("faqMode");
				var stat22Mode = document.getElementById("stat22Mode");
				var stat22RectanglesContainer = document.getElementById("stat22RectanglesContainer");
				var stat22RectanglesContainer2 = document.getElementById("stat22RectanglesContainer2");
				var stat22RectanglesContainer3 = document.getElementById("stat22RectanglesContainer3");
				var nodonemMode = document.getElementById("nodonemMode");
				var donem1Mode = document.getElementById("donem1Mode");
				var donem2Mode = document.getElementById("donem2Mode");
				var donem3Mode = document.getElementById("donem3Mode");
				var donem4Mode = document.getElementById("donem4Mode");
				var donem5Mode = document.getElementById("donem5Mode");
				var donem6Mode = document.getElementById("donem6Mode");
				var donem7Mode = document.getElementById("donem7Mode");
				var donem8Mode = document.getElementById("donem8Mode");
				var rightrectangle = document.getElementById("rightrectangle");

				examMode.style.display = "none";
				examResultsMode.style.display = "none";
				faqMode.style.display = "none";
				stat22Mode.style.display = "none";
				stat22RectanglesContainer.style.display = "none";
				stat22RectanglesContainer2.style.display = "none";
				stat22RectanglesContainer3.style.display = "none";
				nodonemMode.style.display = "none";
				donem1Mode.style.display = "none";
				donem2Mode.style.display = "none";
				donem3Mode.style.display = "none";
				donem4Mode.style.display = "none";
				donem5Mode.style.display = "none";
				donem6Mode.style.display = "none";
				donem7Mode.style.display = "none";
				donem8Mode.style.display = "none";
				rightrectangle.style.display = "none";
				result.style.display = "none";
				noteInput1.style.display = "none";
				noteInput2.style.display = "none";
				secondnoteInput1.style.display = "none";
				secondnoteInput2.style.display = "none";
				calculateButton.style.display = "none";
				settingsbutton.style.display = "none";

				if (mode === "STAT22") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					nodonemMode.style.display = "block";
					rightrectangle.style.display = "block";
					stat22Mode.style.zIndex = "1";
					middleRectangle.style.zIndex = "0";
				} else if (mode === "EXAM") {
					examMode.style.display = "block";
					result.style.display = "block";
					noteInput1.style.display = "block";
					noteInput2.style.display = "block";
					if (odev != 0) {
						secondnoteInput1.style.display = "block";
						secondnoteInput2.style.display = "block";
					} else {
						secondnoteInput1.style.display = "none";
						secondnoteInput2.style.display = "none";
					}
					calculateButton.style.display = "block";
					settingsbutton.style.display = "block";
				} else if (mode === "EXAMRESULTS") {
					examMode.style.display = "block";
					examResultsMode.style.display = "block";
					result.style.display = "block";
					noteInput1.style.display = "block";
					noteInput2.style.display = "block";
					if (odev != 0) {
						secondnoteInput1.style.display = "block";
						secondnoteInput2.style.display = "block";
					} else {
						secondnoteInput1.style.display = "none";
						secondnoteInput2.style.display = "block";
					}
					calculateButton.style.display = "block";
					settingsbutton.style.display = "block";
					examResultsText.innerHTML = "Lütfen geçerli bir vize notu giriniz.";
				} else if (mode === "FAQ") {
					faqMode.style.display = "block";
				} else if (mode === "DONEM1") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem1Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem1Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem1Mode.innerHTML = getSemesterContent(1);
				} else if (mode === "DONEM2") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem2Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem2Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem2Mode.innerHTML = getSemesterContent(2);
				} else if (mode === "DONEM3") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem3Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem3Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem3Mode.innerHTML = getSemesterContent(3);
				} else if (mode === "DONEM4") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem4Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem4Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem4Mode.innerHTML = getSemesterContent(4);
				} else if (mode === "DONEM5") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem5Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem5Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem5Mode.innerHTML = getSemesterContent(5);
				} else if (mode === "DONEM6") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem6Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem6Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem6Mode.innerHTML = getSemesterContent(6);
				} else if (mode === "DONEM7") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem7Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem7Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem7Mode.innerHTML = getSemesterContent(7);
				} else if (mode === "DONEM8") {
					stat22Mode.style.display = "block";
					stat22RectanglesContainer.style.display = "flex";
					stat22RectanglesContainer2.style.display = "flex";
					stat22RectanglesContainer3.style.display = "flex";
					donem8Mode.style.display = "block";
					rightrectangle.style.display = "block";
					rightrectangle.style.zIndex = "2";
					donem8Mode.style.zIndex = "1";
					stat22Mode.style.zIndex = "0";
					donem8Mode.innerHTML = getSemesterContent(8);
				}

				loadSavedDropdowns();

				document.querySelectorAll("select").forEach((select) => {
					select.addEventListener("change", function () {
						calculateGPA();
					});
				});

				const italicWords = [
					"(4) VERİ TABANI:",
					"(4) SIMULATION:",
					"(4) BİYOİSTATİSTİK:",
					"(4) OLASILIK TEORİSİ:",
					"(4) KATEGORİK VERİ ANALİZİ:",
					"(3) SEÇMELİ - 1:",
					"(4) ALAN ARAŞTIRMALARI:",
					"(4) VERİ TABANI PROGRAMLAMA:",
					"(4) COMPUTER AIDED SYSTEM SIMULATION AND MODELING:",
					"(4) C++ İLE PROGRAMLAMA:",
					"(3) SEÇMELİ - 2:",
					"(5) ZAMAN SERİLERİ:",
					"(5) EXPLORATORY DATA ANALYSIS:",
					"(5) STATISTICAL RELIABILITY ANALYSIS:",
					"(5) GÜNCEL PROGRAMLAMA DİLLERİ:",
					"(5) ROBUST STATISTICS:",
					"(5) SIRA İSTATİSTİKLERİ:",
					"(5) EKONOMETRİK MODELLER:",
					"(5) SÜREÇ KONTROLÜNDE PROBLEM ÇÖZME YÖNTEMLERİ:",
					"(5) SANAYİ EKONOMİSİ:",
				];

				document.querySelectorAll("span").forEach((span) => {
					const spanText = span.innerHTML;

					italicWords.forEach((italicWord) => {
						if (spanText.includes(italicWord)) {
							span.style.color = "rgb(200,200,200)";
						}
					});
				});
			}

			function calculateFinalNote() {
				if (noteInput1.value.trim() === "" || isNaN(noteInput1.value) || noteInput1.value < 0 || noteInput1.value > 100) {
					switchMode("EXAMRESULTS");
					examResultsText.innerHTML = "Lütfen 0 ve 100 arasında bir vize notu giriniz.";
					return;
				}

				if (odev != 0) {
					if (secondnoteInput1.value.trim() === "" || isNaN(secondnoteInput1.value) || secondnoteInput1.value < 0 || secondnoteInput1.value > 100) {
						switchMode("EXAMRESULTS");
						examResultsText.innerHTML = "Lütfen 0 ve 100 arasında bir ödev notu giriniz.";
						return;
					}
				}

				if (vize + odev + final != 100) {
					switchMode("EXAMRESULTS");
					examResultsText.innerHTML = "Vize, ödev ve final yüzdelerinin toplamı 100&apos;e eşit olmalıdır.";
					console.log(vize + odev + final);
					return;
				}

				if (document.getElementById("stat22Mode").style.display === "block") {
					stat22SavedInputValue = noteInput2.value;
					stat22SavedOdevValue = secondnoteInput2.value;
				}

				var midtermNote = parseFloat(noteInput1.value);
				if (odev != 0) {
					var odevNote = parseFloat(secondnoteInput1.value);
					var requiredFinalNoteAA = Math.max(((87.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteBA = Math.max(((80.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteBB = Math.max(((73.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteCB = Math.max(((66.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteCC = Math.max(((59.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteDC = Math.max(((52.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
					var requiredFinalNoteDD = Math.max(((45.5 - (midtermNote * vize) / 100 - (odevNote * odev) / 100) / final) * 100);
				} else {
					var requiredFinalNoteAA = Math.max(((87.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteBA = Math.max(((80.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteBB = Math.max(((73.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteCB = Math.max(((66.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteCC = Math.max(((59.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteDC = Math.max(((52.5 - (midtermNote * vize) / 100) / final) * 100);
					var requiredFinalNoteDD = Math.max(((45.5 - (midtermNote * vize) / 100) / final) * 100);
				}

				if (requiredFinalNoteAA < 45) {
					requiredFinalNoteAA = 45;
				}
				if (requiredFinalNoteAA % 1 !== 0) {
					requiredFinalNoteAA = 1 + Math.trunc(requiredFinalNoteAA);
				}
				if (requiredFinalNoteBA < 45) {
					requiredFinalNoteBA = 45;
				}
				if (requiredFinalNoteBA % 1 !== 0) {
					requiredFinalNoteBA = 1 + Math.trunc(requiredFinalNoteBA);
				}
				if (requiredFinalNoteBB < 45) {
					requiredFinalNoteBB = 45;
				}
				if (requiredFinalNoteBB % 1 !== 0) {
					requiredFinalNoteBB = 1 + Math.trunc(requiredFinalNoteBB);
				}
				if (requiredFinalNoteCB < 45) {
					requiredFinalNoteCB = 45;
				}
				if (requiredFinalNoteCB % 1 !== 0) {
					requiredFinalNoteCB = 1 + Math.trunc(requiredFinalNoteCB);
				}
				if (requiredFinalNoteCC < 45) {
					requiredFinalNoteCC = 45;
				}
				if (requiredFinalNoteCC % 1 !== 0) {
					requiredFinalNoteCC = 1 + Math.trunc(requiredFinalNoteCC);
				}
				if (requiredFinalNoteDC < 45) {
					requiredFinalNoteDC = 45;
				}
				if (requiredFinalNoteDC % 1 !== 0) {
					requiredFinalNoteDC = 1 + Math.trunc(requiredFinalNoteDC);
				}
				if (requiredFinalNoteDD < 45) {
					requiredFinalNoteDD = 45;
				}
				if (requiredFinalNoteDD % 1 !== 0) {
					requiredFinalNoteDD = 1 + Math.trunc(requiredFinalNoteDD);
				}

				switchMode("EXAMRESULTS");
				examResultsText.innerHTML = `
    AA almak için: ${requiredFinalNoteAA > 100 ? "Alamaz" : requiredFinalNoteAA}<br>
    BA almak için: ${requiredFinalNoteBA > 100 ? "Alamaz" : requiredFinalNoteBA}<br>
    BB almak için: ${requiredFinalNoteBB > 100 ? "Alamaz" : requiredFinalNoteBB}<br>
    CB almak için: ${requiredFinalNoteCB > 100 ? "Alamaz" : requiredFinalNoteCB}<br>
    CC almak için: ${requiredFinalNoteCC > 100 ? "Alamaz" : requiredFinalNoteCC}<br>
    DC almak için: ${requiredFinalNoteDC > 100 ? "Alamaz" : requiredFinalNoteDC}<br>
    DD almak için: ${requiredFinalNoteDD > 100 ? "Alamaz" : requiredFinalNoteDD}<br>`;
			}

			function getSemesterData(semester) {
				var semesterData = [];
				switch (semester) {
					case 1:
						semesterData = [
							{ id: "inkilapi", subject: "(2) ATATÜRK İLKELERİ VE İNKILAP TARİHİ I" },
							{ id: "iktisadi", subject: "(3) İKTİSADA GİRİŞ I" },
							{ id: "scientifici", subject: "(3) SCIENTIFIC ENGLISH I" },
							{ id: "bilgisayar", subject: "(3) BİLGİSAYAR" },
							{ id: "kariyer", subject: "(2) KARİYER PLANLAMA" },
							{ id: "istatistik", subject: "(7) İSTATİSTİĞE GİRİŞ" },
							{ id: "isletmei", subject: "(3) İŞLETMEYE GİRİŞ I" },
							{ id: "matematiki", subject: "(5) MATEMATİK I" },
							{ id: "turkdilii", subject: "(2) TÜRK DİLİ I" },
						];
						break;
					case 2:
						semesterData = [
							{ id: "inkilapii", subject: "(2) ATATÜRK İLKELERİ VE İNKILAP TARİHİ II" },
							{ id: "iktisadii", subject: "(3) İKTİSADA GİRİŞ II" },
							{ id: "scientificii", subject: "(3) SCIENTIFIC ENGLISH II" },
							{ id: "istbiluygi", subject: "(3) İSTATİSTİKTE BİLGİSAYAR UYGULAMALARI I" },
							{ id: "basic", subject: "(7) BASIC STATISTICS" },
							{ id: "isletmeii", subject: "(3) İŞLETMEYE GİRİŞ II" },
							{ id: "matematikii", subject: "(5) MATEMATİK II" },
							{ id: "turkdiliii", subject: "(2) TÜRK DİLİ II" },
							{ id: "uyg", subject: "(2) ÜNİVERSİTE YAŞAMINA GEÇİŞ" },
						];
						break;
					case 3:
						semesterData = [
							{ id: "tbt", subject: "(3) TEMEL BİLGİ TEKNOLOJİLERİ" },
							{ id: "kemo", subject: "(3) KEMOMETRİ" },
							{ id: "prob", subject: "(7) PROBABILITY" },
							{ id: "applied", subject: "(6) APPLIED STATISTICS" },
							{ id: "istbiluygii", subject: "(2) İSTATİSTİKTE BİLGİSAYAR UYGULAMALARI II" },
							{ id: "matiii", subject: "(4) MATEMATİK III" },
							{ id: "dif", subject: "(3) DİFERANSİYEL DENKLEMLER" },
							{ id: "thu", subject: "(2) TOPLUMA HİZMET UYGULAMALARI" },
						];
						break;
					case 4:
						semesterData = [
							{ id: "ntpg", subject: "(3) NESNE TABANLI PROGRAMLAMAYA GİRİŞ" },
							{ id: "matstat", subject: "(8) MATHEMATICAL STATISTICS" },
							{ id: "matris", subject: "(5) MATRİS TEORİSİ VE İSTATİSTİK UYGULAMALARI" },
							{ id: "algo", subject: "(5) İSTATİSTİKSEL UYGULAMALAR İLE ALGORİTMA TASARIMI" },
							{ id: "opr", subject: "(4) INTRODUCTION TO OPERATIONS RESEARCH" },
							{ id: "mativ", subject: "(5) MATEMATİK IV" },
						];
						break;
					case 5:
						semesterData = [
							{ id: "veri", subject: "(4) VERİ TABANI" },
							{ id: "simu", subject: "(4) SIMULATION" },
							{ id: "biyosta", subject: "(4) BİYOİSTATİSTİK" },
							{ id: "olateo", subject: "(4) OLASILIK TEORİSİ" },
							{ id: "katego", subject: "(4) KATEGORİK VERİ ANALİZİ" },
							{ id: "regresyon", subject: "(7) REGRESSION ANALYSIS" },
							{ id: "arastir", subject: "(6) ARAŞTIRMA YÖNTEMLERİ" },
							{ id: "isthazyaz", subject: "(6) İSTATİSTİKSEL HAZIR YAZILIMLAR" },
							{ id: "secmeli1", subject: "(3) SEÇMELİ - 1" },
						];
						break;
					case 6:
						semesterData = [
							{ id: "alan", subject: "(4) ALAN ARAŞTIRMALARI" },
							{ id: "verii", subject: "(4) VERİ TABANI PROGRAMLAMA" },
							{ id: "cassm", subject: "(4) COMPUTER AIDED SYSTEM SIMULATION AND MODELING" },
							{ id: "carti", subject: "(4) C++ İLE PROGRAMLAMA" },
							{ id: "skolas", subject: "(7) STOKASTİK SÜREÇLER" },
							{ id: "param", subject: "(6) PARAMETRİK OLMAYAN İSTATİSTİKSEL YÖNTEMLER" },
							{ id: "ornek", subject: "(6) ÖRNEKLEME" },
							{ id: "secmeli2", subject: "(3) SEÇMELİ - 2" },
						];
						break;
					case 7:
						semesterData = [
							{ id: "zaman", subject: "(5) ZAMAN SERİLERİ" },
							{ id: "explo", subject: "(5) EXPLORATORY DATA ANALYSIS" },
							{ id: "sra", subject: "(5) STATISTICAL RELIABILITY ANALYSIS" },
							{ id: "guncel", subject: "(5) GÜNCEL PROGRAMLAMA DİLLERİ" },
							{ id: "multi", subject: "(8) MULTIVARIATE STATISTICS" },
							{ id: "sqc", subject: "(7) STATISTICAL QUALITY CONTROL" },
							{ id: "kaynak", subject: "(5) KAYNAK TARAMA TEKNİKLERİ" },
						];
						break;
					case 8:
						semesterData = [
							{ id: "robust", subject: "(5) ROBUST STATISTICS" },
							{ id: "sira", subject: "(5) SIRA İSTATİSTİKLERİ" },
							{ id: "ekonom", subject: "(5) EKONOMETRİK MODELLER" },
							{ id: "surec", subject: "(5) SÜREÇ KONTROLÜNDE PROBLEM ÇÖZME YÖNTEMLERİ" },
							{ id: "sanayi", subject: "(5) SANAYİ EKONOMİSİ" },
							{ id: "design", subject: "(8) DESIGN OF EXPERIMENTS" },
							{ id: "appmulti", subject: "(7) APPLICATIONS OF MULTIVARIATE STATISTICS" },
							{ id: "tez", subject: "(5) BİTİRME TEZİ" },
						];
						break;
					default:
						semesterData = [];
				}
				return semesterData;
			}

			function createDropdownMenu(id, currentGrade) {
				var grades = ["AA", "BA", "BB", "CB", "CC", "DC", "DD", "FD", "FF", "--"];
				var savedGrade = localStorage.getItem(id) || currentGrade;
				var dropdownMenu = `<select id="${id}" onchange="saveDropdownValue('${id}')">`;

				grades.forEach((grade) => {
					var selected = grade === savedGrade ? "selected" : "";
					dropdownMenu += `<option value="${grade}" ${selected}>${grade}</option>`;
				});

				dropdownMenu += "</select>";
				return dropdownMenu;
			}

			function saveDropdownValue(id) {
				var selectedValue = document.getElementById(id).value;
				localStorage.setItem(id, selectedValue);
			}

			function loadSavedDropdowns() {
				var dropdowns = document.querySelectorAll("select[id]");
				dropdowns.forEach((dropdown) => {
					var savedValue = localStorage.getItem(dropdown.id);
					if (savedValue) {
						dropdown.value = savedValue;
					}
				});
			}

			window.onclick = function (event) {
				if (event.target.matches("#openSettingsButton")) {
					document.getElementById("settingsModal").style.display = "block";
				} else if (!event.target.matches("#settingsModal")) {
					document.getElementById("settingsModal").style.display = "none";
				}

				if (!event.target.matches(".modeButton") && !event.target.matches(".semesterButton")) {
					var dropdowns = document.getElementsByClassName("dropdown-content");
					var i;
					for (i = 0; i < dropdowns.length; i++) {
						var openDropdown = dropdowns[i];
						if (openDropdown.style.display === "block") {
							openDropdown.style.display = "none";
						}
					}
				}
			};

			function toggleDropdown(dropdownId) {
				var dropdownContent = document.getElementById(dropdownId);
				if (dropdownContent.style.display === "block") {
					dropdownContent.style.display = "none";
				} else {
					dropdownContent.style.display = "block";
				}
			}

			function getCurrentGrade(id) {
				var dropdown = document.getElementById(id);
				return dropdown ? dropdown.value : "--";
			}

			function getSemesterContent(semester) {
				var semesterData = getSemesterData(semester);
				var content = "<ul>";

				semesterData.forEach(function (lesson) {
					content += `<li> <span>${lesson.subject}:</span> ${createDropdownMenu(lesson.id, getCurrentGrade(lesson.id))}</li>`;
				});

				content += "</ul>";
				return content;
			}

			function calculateGPA() {
				var totalPoints = 0;
				var totalCredits = 0;
				var donem1Data = getSemesterData(1);
				var donem2Data = getSemesterData(2);
				var donem3Data = getSemesterData(3);
				var donem4Data = getSemesterData(4);
				var donem5Data = getSemesterData(5);
				var donem6Data = getSemesterData(6);
				var donem7Data = getSemesterData(7);
				var donem8Data = getSemesterData(8);

				function calculateSemesterAverage(semesterData) {
					var totalPoints = 0;
					var totalCredits = 0;

					for (var i = 0; i < semesterData.length; i++) {
						var lessonId = semesterData[i].id;
						var grade = getCurrentGrade(lessonId);
						if (grade !== "--") {
							var points = lessonPoints[lessonId];
							var gradeValue = convertGradeToValue(grade);
							totalPoints += points * gradeValue;
							totalCredits += points;
						}
					}

					return totalCredits !== 0 ? totalPoints / totalCredits : 0.0;
				}

				var lessonPoints = {
					inkilapi: 2,
					iktisadi: 3,
					scientifici: 3,
					bilgisayar: 3,
					kariyer: 2,
					istatistik: 7,
					isletmei: 3,
					matematiki: 5,
					turkdilii: 2,

					inkilapii: 2,
					iktisadii: 3,
					scientificii: 3,
					istbiluygi: 3,
					basic: 7,
					isletmeii: 3,
					matematikii: 5,
					turkdiliii: 2,
					uyg: 2,

					tbt: 3,
					kemo: 3,
					prob: 7,
					applied: 6,
					istbiluygii: 2,
					matiii: 4,
					dif: 3,
					thu: 2,

					ntpg: 3,
					matstat: 8,
					matris: 5,
					algo: 5,
					opr: 4,
					mativ: 5,

					veri: 4,
					biyosta: 4,
					regresyon: 7,
					arastir: 6,
					isthazyaz: 6,
					olateo: 4,
					simu: 4,
					katego: 4,
					secmeli1: 3,

					alan: 4,
					cassm: 4,
					carti: 4,
					skolas: 7,
					param: 6,
					ornek: 6,
					verii: 4,
					secmeli2: 3,

					zaman: 5,
					explo: 5,
					sra: 5,
					guncel: 5,
					multi: 8,
					sqc: 7,
					kaynak: 5,

					robust: 5,
					sira: 5,
					ekonom: 5,
					surec: 5,
					sanayi: 5,
					design: 8,
					appmulti: 7,
					tez: 5,
				};

				for (var lessonId in lessonPoints) {
					var grade = getCurrentGrade(lessonId);
					if (grade !== "--") {
						var points = lessonPoints[lessonId];
						var gradeValue = convertGradeToValue(grade);
						totalPoints += points * gradeValue;
						totalCredits += points;
					}
				}

				var gpa = totalCredits !== 0 ? (totalPoints / totalCredits).toFixed(2) : 0.0;
				document.getElementById("calculatedGPA").innerText = gpa;

				for (var semester = 1; semester <= 2; semester++) {
					var semesterData = getSemesterData(semester);

					var semesterTotalPoints = 0;
					var semesterTotalCredits = 0;

					for (var i = 0; i < semesterData.length; i++) {
						var lessonId = semesterData[i].id;
						var grade = getCurrentGrade(lessonId);
						if (grade !== "--") {
							var points = lessonPoints[lessonId];
							var gradeValue = convertGradeToValue(grade);
							semesterTotalPoints += points * gradeValue;
							semesterTotalCredits += points;
						}
					}

					document.getElementById(`donem${semester}ort`).innerText = (semesterTotalCredits !== 0 ? semesterTotalPoints / semesterTotalCredits : 0.0).toFixed(2);

					totalPoints += semesterTotalPoints;
					totalCredits += semesterTotalCredits;
				}

				var donem1ort = calculateSemesterAverage(donem1Data);
				var donem2ort = calculateSemesterAverage(donem2Data);
				var donem3ort = calculateSemesterAverage(donem3Data);
				var donem4ort = calculateSemesterAverage(donem4Data);
				var donem5ort = calculateSemesterAverage(donem5Data);
				var donem6ort = calculateSemesterAverage(donem6Data);
				var donem7ort = calculateSemesterAverage(donem7Data);
				var donem8ort = calculateSemesterAverage(donem8Data);

				document.getElementById("donem1ort").innerText = donem1ort.toFixed(2);
				document.getElementById("donem2ort").innerText = donem2ort.toFixed(2);
				document.getElementById("donem3ort").innerText = donem3ort.toFixed(2);
				document.getElementById("donem4ort").innerText = donem4ort.toFixed(2);
				document.getElementById("donem5ort").innerText = donem5ort.toFixed(2);
				document.getElementById("donem6ort").innerText = donem6ort.toFixed(2);
				document.getElementById("donem7ort").innerText = donem7ort.toFixed(2);
				document.getElementById("donem8ort").innerText = donem8ort.toFixed(2);

				var donem1ort = parseFloat(document.getElementById("donem1ort").innerText);
				var donem2ort = parseFloat(document.getElementById("donem2ort").innerText);
				var donem3ort = parseFloat(document.getElementById("donem3ort").innerText);
				var donem4ort = parseFloat(document.getElementById("donem4ort").innerText);
				var donem5ort = parseFloat(document.getElementById("donem5ort").innerText);
				var donem6ort = parseFloat(document.getElementById("donem6ort").innerText);
				var donem7ort = parseFloat(document.getElementById("donem7ort").innerText);
				var donem8ort = parseFloat(document.getElementById("donem8ort").innerText);

				var totalPointsYear1 = 0;
				var totalCreditsYear1 = 0;

				var totalPointsYear2 = 0;
				var totalCreditsYear2 = 0;

				var totalPointsYear3 = 0;
				var totalCreditsYear3 = 0;

				var totalPointsYear4 = 0;
				var totalCreditsYear4 = 0;

				for (var semester = 1; semester <= 8; semester++) {
					var semesterData = getSemesterData(semester);

					var semesterTotalPoints = 0;
					var semesterTotalCredits = 0;

					for (var i = 0; i < semesterData.length; i++) {
						var lessonId = semesterData[i].id;
						var grade = getCurrentGrade(lessonId);

						if (grade !== "--") {
							var points = lessonPoints[lessonId];
							var gradeValue = convertGradeToValue(grade);
							semesterTotalPoints += points * gradeValue;
							semesterTotalCredits += points;
						}
					}

					switch (semester) {
						case 1:
						case 2:
							totalPointsYear1 += semesterTotalPoints;
							totalCreditsYear1 += semesterTotalCredits;
							break;
						case 3:
						case 4:
							totalPointsYear2 += semesterTotalPoints;
							totalCreditsYear2 += semesterTotalCredits;
							break;
						case 5:
						case 6:
							totalPointsYear3 += semesterTotalPoints;
							totalCreditsYear3 += semesterTotalCredits;
							break;
						case 7:
						case 8:
							totalPointsYear4 += semesterTotalPoints;
							totalCreditsYear4 += semesterTotalCredits;
							break;
					}
				}

				var gpaYear1 = totalCreditsYear1 !== 0 ? (totalPointsYear1 / totalCreditsYear1).toFixed(2) : 0.0;
				var gpaYear2 = totalCreditsYear2 !== 0 ? (totalPointsYear2 / totalCreditsYear2).toFixed(2) : 0.0;
				var gpaYear3 = totalCreditsYear3 !== 0 ? (totalPointsYear3 / totalCreditsYear3).toFixed(2) : 0.0;
				var gpaYear4 = totalCreditsYear4 !== 0 ? (totalPointsYear4 / totalCreditsYear4).toFixed(2) : 0.0;

				let test1 = parseFloat(gpaYear1);
				let test2 = parseFloat(gpaYear2);
				let test3 = parseFloat(gpaYear3);
				let test4 = parseFloat(gpaYear4);

				document.getElementById("gpaYear1").innerText = test1.toFixed(2);
				document.getElementById("gpaYear2").innerText = test2.toFixed(2);
				document.getElementById("gpaYear3").innerText = test3.toFixed(2);
				document.getElementById("gpaYear4").innerText = test4.toFixed(2);

				return {
					donem1ort: donem1ort,
					donem2ort: donem2ort,
					donem3ort: donem3ort,
					donem4ort: donem4ort,
					donem5ort: donem5ort,
					donem6ort: donem6ort,
					donem7ort: donem7ort,
					donem8ort: donem8ort,
					gpaYear1: gpaYear1,
					gpaYear2: gpaYear2,
					gpaYear3: gpaYear3,
					gpaYear4: gpaYear4,
				};
			}

			function convertGradeToValue(grade) {
				var gradeValues = {
					AA: 4.0,
					BA: 3.5,
					BB: 3.0,
					CB: 2.5,
					CC: 2.0,
					DC: 1.5,
					DD: 1.0,
					FD: 0.5,
					FF: 0.0,
				};
				return gradeValues[grade] || 0.0;
			}

			let vize = 40;
			let odev = 0;
			let final = 60;

			function updateValues(target, value) {
				if (target === "vize") {
					vize = value;
				} else if (target === "odev") {
					odev = value;
				} else if (target === "final") {
					final = value;
				}
				if (odev != 0) {
					secondnoteInput1.style.display = "block";
					secondnoteInput2.style.display = "block";
				}
			}

			function setAllSelectsTo(grade) {
				document.querySelectorAll("select").forEach((select) => {
					select.value = grade;
					saveDropdownValue(select.id);
				});
				calculateGPA();
			}

			function extractAndUpdateLessons(inputText) {
				const lines = inputText
					.split("\n")
					.map((line) => line.trim())
					.filter((line) => line);
				const dataLines = lines.slice(2);
				let lessons = dataLines
					.map((line) => {
						const columns = line.split("\t").map((col) => col.trim());
						return { name: columns[4], grade: columns[12] };
					})
					.filter((item) => item.name && item.grade);
				lessons = lessons.filter((item) => item.name !== "Kredi | akts" && item.name !== "HAZIRLIK SINIFI (Y)");
				const uniqueLessons = lessons.reduce((acc, lesson) => {
					acc[lesson.name] = lesson;
					return acc;
				}, {});
				lessons = Object.values(uniqueLessons);
				const liElements = document.querySelectorAll("li");
				liElements.forEach((li) => {
					const span = li.querySelector("span");
					const select = li.querySelector("select");
					if (!span || !select) return;
					const spanText = span.textContent;
					const match = spanText.match(/^\(\d+\)\s*(.*?)\s*:/);
					if (match) {
						const spanLessonName = match[1];
						lessons.forEach((lesson) => {
							if (spanLessonName === lesson.name) {
								const option = select.querySelector(`option[value="${lesson.grade}"]`);
								if (option) {
									select.value = lesson.grade;
									select.dispatchEvent(new Event("change", { bubbles: true }));
								}
							}
						});
					}
				});
			}

			document.addEventListener("DOMContentLoaded", () => {
				switchMode("STAT22");
				loadSavedDropdowns();

				for (let i = 8; i >= 1; i--) {
					switchMode(`DONEM${i}`);
				}

				document.querySelectorAll(".custom-submenu-content a").forEach((item) => {
					item.addEventListener("click", function (event) {
						event.preventDefault();
						const value = parseInt(this.textContent.replace("%", ""));
						const target = this.parentElement.getAttribute("data-target");
						document.getElementById(target + "Value").textContent = "%" + value;
						updateValues(target, value);
					});
				});

				calculateGPA();
			});
		</script>
		<script>
			if ("serviceWorker" in navigator) {
				window.addEventListener("load", function () {
					navigator.serviceWorker.register("/ortalamatorSW.js").then(
						function (registration) {
							console.log("Service Worker registered with scope:", registration.scope);
						},
						function (err) {
							console.log("Service Worker registration failed:", err);
						}
					);
				});
			} else {
				document.getElementById("download-btn").style.color = "red";
			}

			let deferredPrompt;

			window.addEventListener("beforeinstallprompt", (e) => {
				console.log("beforeinstallprompt event fired");
				e.preventDefault();
				deferredPrompt = e;
			});

			document.getElementById("download-btn").addEventListener("click", async () => {
				console.log("Download button clicked");
				if (checkIfInstalled()) {
					return;
				}

				if (deferredPrompt) {
					console.log("Triggering install prompt");
					deferredPrompt.prompt();
					const { outcome } = await deferredPrompt.userChoice;
					console.log(`User response to the install prompt: ${outcome}`);
					deferredPrompt = null;
				} else {
					alert("Install prompt is not available. Make sure you are using a supported browser.");
				}
			});

			function checkIfInstalled() {
				const isInstalled = window.matchMedia("(display-mode: standalone)").matches || navigator.standalone;

				if (isInstalled) {
					alert("You already have the app installed.");
					return true;
				}
				return false;
			}
		</script>
	</body>
</html>
